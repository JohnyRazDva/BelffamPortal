<!DOCTYPE html>
<html   xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
        lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
    <p class="welcome-message">Welcome to the Bellfam Portal</p>
    <div class="default-content-box">
        <div class="add-video-link-form" sec:authorize="hasRole('ADMIN')">
            <form th:object="${videoLink}" action="/content/default/private/add" method="POST">
                <label for="linkValue">Link</label>
                <input type="text" th:field="${videoLink.linkValue}" id="linkValue">
                <div class="error-message" th:if="${#fields.hasErrors('linkValue')}" th:errors="*{linkValue}">Link error</div>

                <label for="description">Description</label>
                <input type="text" th:field="${videoLink.description}" id="description">
                <div class="error-message" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Description error</div>
                <button type="submit">add</button>
            </form>
        </div>
        <div class="video-guide" th:each="videoLink: ${videoLinks}">
            <div class="video-description">
                <p th:text="${videoLink.description}"></p>
            </div>
            <div class="video">
                <iframe th:src="${videoLink.linkValue}"
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen>
                </iframe>
            </div>
            <div sec:authorize="hasRole('ADMIN')" class="video-guide-edit">
                <form method="POST" class="video-edit-form" action="/content/default/private/edit-video-link">
                    <div class="video-edit-form-inputs">
                        <input type="hidden" name="id"  th:value="${videoLink.id}">
                        <div class="video-edit-form-inputs-link">
                            <label for="editLinkValue">Link</label>
                            <input type="text" id="editLinkValue" name="linkValue">
                        </div>
                        <div class="video-edit-form-inputs-description">
                            <label for="description">Video description</label>
                            <input type="text" id="editDescription" name="description">
                        </div>
                    </div>
                    <div class="video-edit-form-buttons">
                        <button type="submit" name="button" value="update">save</button>
                    </div>
                    <form action="/content/default/private/delete">
                        <input type="hidden" name="id" th:value="${videoLink.id}">
                        <div class="video-edit-form-buttons">
                            <button type="submit" name="button" value="delete">delete</button>
                        </div>
                    </form>
                </form>
            </div>
        </div>

    </div>
</body>
</html>